<!DOCTYPE html>
<html lang="en"oncontextmenu="return false">
	<head>
		<meta charset="utf-8">
		<meta name="theme-color"content="Gold">
		<meta name="viewport"content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width">
		<link rel="icon"href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
		<title>ðŸŸ¥ðŸŸ¨</title>
		<style>
			@font-face{
				font-family:'F';
				src:url(https://fonts.gstatic.com/s/madimione/v1/2V0YKIEADpA8U6RygDnZVFMiBw.woff2);
			}
			@font-face{
				font-family:'S';
				src:url(https://fonts.gstatic.com/s/notosanssymbols/v41/rP2dp3q65FkAtHfwd-eIS2brbDN6gzmVyK6L2Q.woff2);
			}
			@keyframes fay{
				from{
					opacity:0;
				}
			}
			@keyframes slip{
				to{
					transform:translateY(calc(var(--q) - 100%));
				}
			}
			:root{
				--q:6ch;
				--bg:#f5f5f5ee;
				--fg:#000000cc;
				--pad:.5rem;
				--rad:calc(var(--pad)/3);
				--bord:1px solid;
				--shado:-.1rem -.1rem .2rem .1rem Goldenrod,.1rem .1rem .2rem Khaki;
				background:White;
				color:var(--fg);
				font-family:'F','S',sans-serif;
				font-size:36pt;
				text-align:center;
				user-select:none;
			}
			body{
				margin:0;
			}
			main{
				animation:fay 1s;
				background:radial-gradient(circle at 33% 33%,Gold,Goldenrod) 100%;
				flex-direction:column;
				height:100vh;
			}
			.flex{
				align-items:center;
				display:flex;
				flex-direction:column;
				justify-content:center;
			}
			.slip{
				animation:slip .67s cubic-bezier(.5,-.33,.1,1) forwards;
			}
			#go{
				background:radial-gradient(circle at 33% 33%,Red 33%,Firebrick,Maroon);
				border:var(--bord) DarkRed;
				border-radius:50%;
				box-shadow:inset 1px 1px 6px Black,var(--shado);
				color:var(--bg);
				cursor:pointer;
				font-size:300%;
				height:3rem;
				margin:var(--pad) auto;
				width:3rem;
			}#go:active{
				box-shadow:inset 3px 3px 12px Black,var(--shado);
				color:transparent;
				text-shadow:0 1px 0 var(--bg);
			}
			#lcd{
				background:radial-gradient(circle at top left,WhiteSmoke 50%,Silver);
				border-radius:var(--rad);
				box-shadow:inset 1px 1px 6px Black,var(--shado);
				cursor:pointer;
				flex-direction:column;
				height:var(--q);
				overflow:hidden;
				width:12ch;
			}
			#slot>div{
				align-items:center;
				display:flex;
				height:var(--q);
			}
			@media(orientation:portrait){
				:root{
					font-size:12vmin;
				}
				#go{
					bottom:0;
					left:50%;
					position:fixed;
					transform:translateX(-50%);
				}
			}
		</style>
	</head>
	<body>
		<main class="anim flex">
			<div id="lcd">
				<div id="slot"class="flex">
					<div>? ? ?</div>
				</div>
			</div>
			<div id="go"class="flex">ðŸŸŠ</div>
		</main>
		<script>
			'use strict'
			const GO=document.getElementById('go')
			const LCD=document.getElementById('lcd')
			const SLOT=document.getElementById('slot')
			let SETS="Agrabah,Bunnie,Isabelle,Kapp'n,Maple,Peter Pan,Steamboat Mickey,"
			let WAIT=false
			let WINNER=""
			function fill(){
				const SETS_ARRAY=localStorage['LEGO_SETS'].split(',').splice(0,localStorage['LEGO_SETS'].split(',').length-1)
				const S=document.createElement('div')
				if(SETS_ARRAY.length>1){
					SETS_ARRAY.sort(()=>Math.random()-.5).forEach(SET=>{
						if(SET!==WINNER.textContent){
							S.textContent=SET
						}
					})
				}else{
					S.textContent='Buy more LEGOs!'
				}
				SLOT.appendChild(S)
				localStorage['LEGO_SETS']=localStorage['LEGO_SETS'].replace(WINNER.textContent+',','')
				console.log('Sets:',localStorage['LEGO_SETS'])
			}
			GO.onclick=()=>{
				if(WAIT===false){
					WAIT=true
					fill()
					SLOT.classList.toggle('slip')
					setTimeout(()=>{
						WINNER=SLOT.children[SLOT.children.length-1]
						console.log('Winner:',WINNER.textContent)
						SLOT.classList.toggle('slip')
						SLOT.innerHTML=''
						SLOT.appendChild(WINNER)
						WAIT=false
					},667)
				}
			}
			LCD.onclick=()=>{
				const PROM=prompt('Paste your list...')
				if(PROM&&PROM.split("\r\n").length>1){
					localStorage['LEGO_SETS']=PROM.replaceAll("\r\n",',')+','
					console.log(PROM)
				}
			}
			if(!localStorage['LEGO_SETS'])localStorage['LEGO_SETS']=SETS
		</script>
	</body>
</html>
